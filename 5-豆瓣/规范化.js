let arr


let ar2 = `["items","report","start","total",{"k":[{"qtype":"195","tags":"读书"},15,261,"","酒文化",{"j":56},0],"z":[1,11,8,2,10,0,7]},"text","count","error_info","labels","tpl_name","label_actions","title","interest","rating","id","more_url","rating_info","star_count","value",{"k":[0,"目前无人评价",0,0],"z":[11,16,18,17]},"abstract","abstract_2","extra_actions","cover_url","url","topics",{"k":[25826911,[],"绍兴酒文化","https://book.douban.com/subject/25826911/","","https://img2.doubanio.com/view/subject/m/public/s27218062.jpg",{"j":19},"search_subject",null,"绍兴市政协文史资料委员会 编 / 中国大百科全书出版社 / 1990-11 / 5.5",[],[],"onclick=\\"moreurl(this,{i:'13',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'25826911',from:'book_subject_search',cat_id:'1001'})\\"",[]],"z":[14,5,6,24,21,23,13,4,12,20,22,3,15,25]},{"k":[24,6.3,3,""],"z":[11,18,17,16]},{"k":[[],{"j":27},null,"search_subject",[],[],"中国酒文化","https://book.douban.com/subject/2010071/","onclick=\\"moreurl(this,{i:'3',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'2010071',from:'book_subject_search',cat_id:'1001'})\\"","李争平 / 时事出版社 / 2007-1 / 32.00元",2010071,"https://img2.doubanio.com/view/subject/m/public/s5809373.jpg",[],""],"z":[5,13,12,4,22,25,6,24,15,20,14,23,3,21]},{"k":[3,6,"",19],"z":[17,18,16,11]},{"k":["明朝酒文化",[],{"j":29},[],"https://img1.doubanio.com/view/subject/m/public/s28810557.jpg","onclick=\\"moreurl(this,{i:'1',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'26804133',from:'book_subject_search',cat_id:'1001'})\\"",[],26804133,null,"","search_subject","https://book.douban.com/subject/26804133/","王春瑜 / 商务印书馆 / 2016-5 / 40.00元",[]],"z":[6,22,13,25,23,15,5,14,12,21,4,24,20,3]},{"k":[0,"评价人数不足",0,0],"z":[17,16,18,11]},{"k":["白洁洁 / 孙亚楠 / 时事出版社 / 2014-1 / 38.00","onclick=\\"moreurl(this,{i:'8',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'26631446',from:'book_subject_search',cat_id:'1001'})\\"","世界酒文化",[],26631446,[],[],"https://book.douban.com/subject/26631446/",[],"https://img2.doubanio.com/view/subject/m/public/s28306011.jpg","search_subject","",{"j":31},null],"z":[20,15,6,5,14,25,22,24,3,23,4,21,13,12]},{"k":[3.5,6.6,37,""],"z":[17,18,11,16]},{"k":[1070668,[],"https://book.douban.com/subject/1070668/",{"j":33},"何满子 / 上海古籍出版社 / 2001-6 / 28.00元",[],"https://img1.doubanio.com/view/subject/m/public/s1147778.jpg",[],"",null,"search_subject",[],"onclick=\\"moreurl(this,{i:'0',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'1070668',from:'book_subject_search',cat_id:'1001'})\\"","中国酒文化"],"z":[14,3,24,13,20,25,23,5,21,12,4,22,15,6]},{"k":[3,23,5.7,""],"z":[17,11,18,16]},{"k":["胡小伟 / 中国国际广播出版社 / 2011-1 / 16.50元","https://book.douban.com/subject/5920479/",{"j":35},[],"https://img3.doubanio.com/view/subject/m/public/s6280740.jpg",[],"search_subject","",[],5920479,"onclick=\\"moreurl(this,{i:'4',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'5920479',from:'book_subject_search',cat_id:'1001'})\\"",null,[],"中国酒文化"],"z":[20,24,13,25,23,5,4,21,22,14,15,12,3,6]},{"k":[0,"评价人数不足",0,0],"z":[18,16,11,17]},{"k":[[],"onclick=\\"moreurl(this,{i:'12',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'1756140',from:'book_subject_search',cat_id:'1001'})\\"",[],"姑苏酒文化","search_subject",[],"https://book.douban.com/subject/1756140/",1756140,"韩胜宝 / 古吴轩出版社 / 2000年9月第1版 / 19.00元","","https://img3.doubanio.com/view/subject/m/public/s1627630.jpg",{"j":37},[],null],"z":[25,15,22,6,4,5,24,14,20,21,23,13,3,12]},{"k":[0,"评价人数不足",0,0],"z":[18,16,17,11]},{"k":["","search_subject",[],[],[],null,"红酒文化与养生","张志和 / 中国物资出版社 / 2007-9 / 23.80元",2276831,"https://book.douban.com/subject/2276831/",[],"onclick=\\"moreurl(this,{i:'10',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'2276831',from:'book_subject_search',cat_id:'1001'})\\"",{"j":39},"https://img2.doubanio.com/view/subject/m/public/s8960721.jpg"],"z":[21,4,3,25,22,12,6,20,14,24,5,15,13,23]},{"k":["",6.7,24,3.5],"z":[16,18,11,17]},{"k":[[],{"j":41},[],null,"onclick=\\"moreurl(this,{i:'6',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'1908261',from:'book_subject_search',cat_id:'1001'})\\"",[],"search_subject",[],"",1908261,"（美）威尔斯 著 / 罗汉 等译 / 新星出版社 / 2006-8 / 24.80元","https://img9.doubanio.com/view/subject/m/public/s1887224.jpg","美国啤酒文化之旅","https://book.douban.com/subject/1908261/"],"z":[22,13,5,12,15,3,4,25,21,14,20,23,6,24]},{"k":["评价人数不足",0,0,0],"z":[16,18,11,17]},{"k":["中国酒文化趣谈","onclick=\\"moreurl(this,{i:'14',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'2343129',from:'book_subject_search',cat_id:'1001'})\\"","",[],[],"《中国酒文化趣谈》编写组 编 / 中国旅游出版社 / 2007-12 / 26.00元",[],2343129,{"j":43},[],null,"https://book.douban.com/subject/2343129/","https://img2.doubanio.com/view/subject/m/public/s5773693.jpg","search_subject"],"z":[6,15,21,5,3,20,22,14,13,25,12,24,23,4]},{"k":[0,0,"评价人数不足",0],"z":[11,17,16,18]},{"k":["https://img2.doubanio.com/view/subject/m/public/s3943162.jpg",[],1659852,{"j":45},[],"onclick=\\"moreurl(this,{i:'5',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'1659852',from:'book_subject_search',cat_id:'1001'})\\"","",[],"search_subject","中华酒文化","https://book.douban.com/subject/1659852/",[],"李华瑞 / 山西人民出版社 / 1900-01-01 / 16.0",null],"z":[23,3,14,13,5,15,21,25,4,6,24,22,20,12]},{"k":[0,0,0,"评价人数不足"],"z":[11,17,18,16]},{"k":["search_subject",[],3328167,{"j":47},[],"酒文化",[],"向春阶 [等]编著 / 中国经济出版社 / 1995-3 / 6.60元","onclick=\\"moreurl(this,{i:'7',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'3328167',from:'book_subject_search',cat_id:'1001'})\\"","https://book.douban.com/subject/3328167/",[],"https://img9.doubanio.com/view/subject/m/public/s27220324.jpg",null,""],"z":[4,3,14,13,22,6,25,20,15,24,5,23,12,21]},{"k":[0,0,0,"评价人数不足"],"z":[11,17,18,16]},{"k":["onclick=\\"moreurl(this,{i:'11',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'25896021',from:'book_subject_search',cat_id:'1001'})\\"","",{"j":49},25896021,"https://book.douban.com/subject/25896021/",[],"https://img9.doubanio.com/view/subject/m/public/s27292694.jpg","千年酒文化",[],[],"邓玉梅 / 董 帅 / 清华大学出版社 / 2013-12 / 42.90元",[],null,"search_subject"],"z":[15,21,13,14,24,3,23,6,5,25,20,22,12,4]},{"k":[0,"评价人数不足",0,0],"z":[18,16,17,11]},{"k":[1529190,"search_subject",[],"https://img9.doubanio.com/view/subject/m/public/s1817936.jpg","",[],[],"onclick=\\"moreurl(this,{i:'9',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'1529190',from:'book_subject_search',cat_id:'1001'})\\"","康明官 / 第1版 (2003年1月1日) / 2003-1 / 22.0",null,"https://book.douban.com/subject/1529190/","酒文化问答",{"j":51},[]],"z":[14,4,22,23,21,5,3,15,20,12,24,6,13,25]},{"k":[0,"评价人数不足",0,0],"z":[17,16,11,18]},{"k":["https://book.douban.com/subject/21320073/",[],null,{"j":53},"search_subject",[],21320073,[],"","酒文化 : 酒文化","中国经济出版社 / 2013-1 / 28.00元","onclick=\\"moreurl(this,{i:'2',query:'%E9%85%92%E6%96%87%E5%8C%96',subject_id:'21320073',from:'book_subject_search',cat_id:'1001'})\\"",[],"https://img1.doubanio.com/view/subject/m/public/s25677348.jpg"],"z":[24,22,12,13,4,25,14,3,21,6,20,15,5,23]},{"k":["https://book.douban.com/author/286426/","0 人收藏",286426," ","https://img3.doubanio.com/f/book/0e27fcad0e64da9769f748b2070a295b56405077/pics/book/author-default-large.png","","search_common",[],"作者 / 葡萄酒指南 / 葡萄酒名庄－富隆葡萄酒丛书 / 醉·愛·葡萄酒"],"z":[24,20,14,6,23,15,4,3,21]},{"k":[55,34,30,54,28,36,46,42,48,32,52,40,50,38,26,44]}]`


arr = JSON.parse(ar2)
// console.log(arr)

function format_arr(t) {
    let i = {"$keys":"z","$vals":"k","$UID":"j","$defaultRootUID":4,"crypto":{}}
    i.getRealUID = function (t) {
        let p = {"start":2,"end":7}
        if (t >= p.start) {
            var e = p.end - p.start;
            if (t < p.end)
                return t + e;
            if (t < p.end + e)
                return t - e
        }
        return t
    }
    i.getType = function (t) {
        return Object.prototype.toString.call(t).slice(8, -1)
    }

    function n(e) {
        if (1 === Object.keys(e).length && void 0 !== e[i.$UID])
            return o(e[i.$UID]);
        if (i.$vals in e) {
            var t = e[i.$keys]
                , n = e[i.$vals];
            return t ? t.reduce(function(e, t, i) {
                return e[o(t)] = r(n[i]),
                    e
            }, {}) : n.map(function(e) {
                return o(e)
            })
        }
        return Object.keys(e).reduce(function(t, n) {
            var o = e[n];
            return t[n] = r(o),
                t
        }, {})
    }
    function r(t) {
        return "Object" === (0,
            i.getType)(t) ? n(t) : "Array" === (0,
            i.getType)(t) ? t.map(function(e) {
            return r(e)
        }) : t
    }
    function o(e) {
        return r(t[(0,
            i.getRealUID)(e)])
    }
    return o(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : (0,
        i.getRealUID)(i.$defaultRootUID))
}

data = format_arr(arr)
console.log(data)
module.exports = {
    format_arr
}